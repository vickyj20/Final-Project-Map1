<!DOCTYPE html>
<html>
  <head>
<meta charset='utf-8' />
<title>Southen White Rhinos</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />

<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
  .map-overlay {
font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
position: absolute;
width: 25%;
top: 0;
left: 0;
padding: 10px;
}
 
.map-overlay .map-overlay-inner {
background-color: #fff;
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
border-radius: 3px;
padding: 10px;
margin-bottom: 10px;
}
 
.map-overlay h2 {
line-height: 24px;
display: block;
margin: 0 0 10px;
}
 
.map-overlay .legend .bar {
height: 10px;
width: 100%;
background: linear-gradient(to right, #fca107, #7f3121);
}
 
.map-overlay input {
background-color: transparent;
display: inline-block;
width: 100%;
position: relative;
margin: 0;
cursor: ew-resize;
}
</style>
  
<div id='map'></div>

<div class="map-overlay top">
    <div class="map-overlay-inner">
      <h1>The Rise and Fall of the Southern White Rhino Population Over Time</h1>
      <p>Data: <a href='https://ourworldindata.org/grapher/southern-white-rhinos?tab=map&fbclid=IwAR3P4vUHqefQmDI0uyHKCECrRDAgRuOQHRRGsP6OD6U3BZwunGgvbEo1g48'>Southern White Rhino Population</a> in Africa, 1895-2017</p>
     <label id="Year"></label>
     <input id="slider" type="range" min="1895" max="2017" step="5" value="0" />
  </div>
  <div class="map-overlay-inner">
    <div id="legend" class="legend">
      <div class="bar"></div>
      <div>Population</div>
    </div>
  </div>
</div>

<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoidmlja3lqMjAiLCJhIjoiY2s2cmU2a2Z6MDU3OTNkbGExcTBhanlsNCJ9.AnDT5Fbe1lZxtUukEMhabA';

var map = new mapboxgl.Map({
  container: 'map', // container element id
  style: 'mapbox://styles/vickyj20/ck8bz3l6y2euy1iqqhr6bn4h6',
  center: [34.0085, 8.7832], // initial map center in [lon, lat]
  zoom: 2
});
var year = [
'1895',
'1929',
'1948',
'1968',
'1984',
'1987',
'1991',
'1992',
'1993',
'1995',
'1997',
'2005',
'2010',
'2017'
];
	
function filterBy(year) {
var filters = ['==', 'year', year];
map.setFilter('rhino_pop', filters)
 
// Set the label to the month
document.getElementById('year').textContent = year[year];
}
	map.on('load', function() {
        map.addSource('1895', {
            type: 'geojson',
            url: 'vickyj20.3t6v8yli'
        });
        map.addLayer({
            'source-layer': '1895'
        });
	    
	map.addSource('1929', {
            type: 'geojson',
            url: 'vickyj20.3m0xntl4'
        });
        map.addLayer({
            'source-layer': '1929'
        });

        map.addSource('1948', {
            type: 'geojson',
            url: 'vickyj20.4f2e1g29'
        });
        map.addLayer({
            'source-layer': '1948'
        });
	    
	map.addSource('1968', {
            type: 'geojson',
            url: 'vickyj20.6z393kf6'
        });
        map.addLayer({
            'source-layer': '1968'
        });
	
	map.addSource('1984', {
            type: 'geojson',
            url: 'vickyj20.46olq4yd'
        });
        map.addLayer({
            'source-layer': '1984'
        });
	map.addSource('1987', {
            type: 'geojson',
            url: 'vickyj20.atou2ixg
        });
        map.addLayer({
            'source-layer': '1987'
        });
	map.addSource('1991', {
            type: 'geojson',
            url: 'vickyj20.ctqyr4n5'
        });
        map.addLayer({
            'source-layer': '1991'
        });
	map.addSource('1992', {
            type: 'geojson',
            url: 'vickyj20.8csp8o0i'
        });
        map.addLayer({
            'source-layer': '1992'
        });
	map.addSource('1993', {
            type: 'geojson',
            url: 'vickyj20.a8495uu3'
        });
        map.addLayer({
            'source-layer': '1993'
        });
	map.addSource('1995', {
            type: 'geojson',
            url: 'vickyj20.32i840d9'
        });
        map.addLayer({
            'source-layer': '1995'
        });
	map.addSource('1997', {
            type: 'geojson',
            url: 'vickyj20.855b3s6u'
        });
        map.addLayer({
            'source-layer': '1997'
        });
	map.addSource('2005', {
            type: 'geojson',
            url: 'vickyj20.0d2dguvt'
        });
        map.addLayer({
            'source-layer': '2005'
        });
	map.addSource('2010', {
            type: 'geojson',
            url: 'vickyj20.b2t2hxmn'
        });
        map.addLayer({
            'source-layer': '2010'
        });
	map.addSource('2017', {
		type: 'geojson',
		url: 'vickyj20.2wtm73iw'
	});
	map.addLayer({
		'source-layer': '2017'
				});
		
	filterBy(0);
 
document
.getElementById('slider')
.addEventListener('input', function(e) {
var year = parseInt(e.target.value, 10);
filterBy(year);
	});
}
);
});
	
    </script>
  </body>
</html>
