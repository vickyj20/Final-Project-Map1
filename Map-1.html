<!DOCTYPE html>
<html>
  <head>
<meta charset='utf-8' />
<title>Southen White Rhinos</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />

<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
  .map-overlay {
font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
position: absolute;
width: 25%;
top: 0;
left: 0;
padding: 10px;
}
 
.map-overlay .map-overlay-inner {
background-color: #fff;
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
border-radius: 3px;
padding: 10px;
margin-bottom: 10px;
}
 
.map-overlay h2 {
line-height: 24px;
display: block;
margin: 0 0 10px;
}
 
.map-overlay .legend .bar {
height: 10px;
width: 100%;
background: linear-gradient(to right, #fca107, #7f3121);
}
 
.map-overlay input {
background-color: transparent;
display: inline-block;
width: 100%;
position: relative;
margin: 0;
cursor: ew-resize;
}
</style>
  
<div id='map'></div>

<div class="map-overlay top">
    <div class="map-overlay-inner">
      <h1>The Rise and Fall of the Southern White Rhino Population Over Time</h1>
      <p>Data: <a href='https://ourworldindata.org/grapher/southern-white-rhinos?tab=map&fbclid=IwAR3P4vUHqefQmDI0uyHKCECrRDAgRuOQHRRGsP6OD6U3BZwunGgvbEo1g48'>Southern White Rhino Population</a> in Africa, 1895-2017</p>
	    <h2>Year:<label id="pop_year">1895</label></h2>
     	<input id="slider" type="range" min="1895" max="2017" step="5" value="1895" />
  </div>
  <div class="map-overlay-inner">
    <div id="legend" class="legend">
      <div class="bar"></div>
      <div>Population</div>
    </div>
  </div>
</div>

<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoidmlja3lqMjAiLCJhIjoiY2s2cmU2a2Z6MDU3OTNkbGExcTBhanlsNCJ9.AnDT5Fbe1lZxtUukEMhabA';

var map = new mapboxgl.Map({
  container: 'map', // container element id
  style: 'mapbox://styles/vickyj20/ck8f7jpsm0uo41is3701cjy1m6',
  center: [34.0085, 8.7832], // initial map center in [lon, lat]
  zoom: 2
});
 
map.on('load', function() {
	map.addLayer({
		id: '1895',
		source: {
			type: 'vector',
			url: 'vickyj20.dhu91dsg' // replace this with the url of your own geojson
			    },
	  map.addLayer({
    		id: '1929',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.3felnp0a' // replace this with the url of your own geojson
				},
	 map.addLayer({
    		id: '1948',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.1ocx6n7c' // replace this with the url of your own geojson
				},
	map.addLayer({
    		id: '1968',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.35zzxrkc' // replace this with the url of your own geojson
				},
	map.addLayer({
    		id: '1984',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.5enjacw0' // replace this with the url of your own geojson  
				},
	map.addLayer({
    		id: '1987',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.2h0d8ns5' // replace this with the url of your own geojson  
				},
	map.addLayer({
    		id: '1991',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.9paigm0t' // replace this with the url of your own geojson  
				},
	map.addLayer({
    		id: '1992',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.0a0205bp' // replace this with the url of your own geojson  
				},
	map.addLayer({
    		id: '1993',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.aeg0c8u1' // replace this with the url of your own geojson  
				}, 
	map.addLayer({
    		id: '1995',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.8kjhrmeq' // replace this with the url of your own geojson  
				}, 
	map.addLayer({
    		id: '1997',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.741whe7f' // replace this with the url of your own geojson  
				},   
	map.addLayer({
    		id: '2005',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.8uad4cts' // replace this with the url of your own geojson  
				}, 
	map.addLayer({
    		id: '2010',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.bcog9pnd' // replace this with the url of your own geojson  
				},  
		
	map.addLayer({
    		id: '2017',
    		source: {
     			 type: 'vector',
     			url: 'vickyj20.cbkirtrm' // replace this with the url of your own geojson  
				},       
	});
 
document.getElementById('slider').addEventListener('input', function(e) {
var pop_year = parseInt(e.target.value);
map.setFilter('1895', ['==', ['rhino_pop', ['get', 'pop_year']], 'year']);
	});
}
);
});
	
    </script>
  </body>
</html>
